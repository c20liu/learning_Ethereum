转自 https://www.jianshu.com/p/15bf2db1925a
事件

相信大家最近都被一个“神级”项目----Hashgraph刷了屏。提到这个项目，被用到最多的几个词就是“很优雅”、“更快，更安全，更公平”。这未免太抽象了，Hashgraph到底是什么鬼？它凭什么能拥有这些高性能？那它有没有什么缺点？项目的创始团队是什么样的？

 
概述

Hashgraph建立在DAG网络的基础上，确实在保证安全的基础上大大提高了运行速度和网络吞吐量，它的共识机制也做到了在某些假设前提下的公平性。但是Hashgraph也存在着代码不开源、投票环节存在不确定性等一系列问题。

热度：高

风险提示：白皮书中的分析主要是建立在数学证明上，是一个非常理想的状态，项目在落地阶段可能受制于带宽和网络状况等因素，很可能会有各种意想不到的情况出现。

Hashgraph与传统区块链有何不同

传统意义的区块链是由一根链以线性方式链接一系列的区块，这些区块中记录着一个时间段内发生的交易。矿工通过各种机制竞争这个时间段内交易的记账权，对于一笔交易来说，需要足够幸运或付出足够多的手续费才能被矿工选中。如在比特币网络中每10分钟才出一个块，平均每秒进行7次交易，以太坊虽然大大加快了出块时间，但也需要十几秒才能确认出一个块。那么想象一下你去商店买东西，结完账之后要等待十几秒甚至十分钟交易才能被确认（还是在付出了足够多的交易费用的前提下），效率很低，因此区块链1.0和2.0的项目对于大规模商用还有很长一段距离。

那么为什么不能打破区块的界限呢？

这时侧链的概念就诞生了，人们想到可以搭建侧链来提升网络的处理速度。如果将不同类别的交易分类，并行在几条不同的侧链上进行记录。这样即使出块速度不变，但并行了N条侧链，交易处理的速度也可以加快N倍。

但这还不够，在Hashgraph的网络结构中，使用了有向无环图的思想。

什么是有向无环图（Directed Acyclic Graph）？

如果一个有向图从任意顶点出发无法经过若干条边回到该点，那么这个图就是一个有向无环图。


有向无环图（以下简称DAG）打破了“区块”的概念，其中的每一笔交易跳过了等待打包入块的步骤，直接以单笔交易为单位计入链中。然而DAG网络就面临着一个问题----如何控制网络宽度呢？



如果每一笔新的交易都链接到网络中比较老的某个交易节点上，那么DAG网络就会从这一老节点突然变宽，效率变低。因此，最理想的状态是，每一笔新交易都均匀的连接在链的新老节点上，将网络控制在一定的宽度内，包括IOTA在内的DAG网络都是这样解决宽度问题的。



Hashgraph也是以DAG网络为基础来搭建的，但Hashgraph有着自己的控制宽度的方式。在Hashgraph网络中，只有获得准入的节点才有发起Event（事件）的权利，所有发起新交易（或称为发起新事件）的工作都需由这些节点完成，如Hashgraph白皮书中的图示，大大提高了工作效率，控制了带宽的同时，做到了真正的“Blockless”。


Alice、Bob、Carol、Dave、Ed分别是五个有发起事件权力的节点，每个圆圈是一个事件，由节点在接收到八卦时创建（来自Hashgraph白皮书）

*为了保证本文的可读性，在这里不过多谈论技术问题。对技术感兴趣的朋友请扫描文章末尾的二维码，加入我们的社群，获取完整版Hashgraph技术分析报告。

Hashgraph的优点



1、Hashgraph为什么快

“八卦八卦协议（Gossip about Gossip）”

Hashgrapgh的核心协议是“八卦八卦协议”，看名字可能有些难以理解，其实其灵感来自办公室八卦，只要两个人之间八卦一下，在有限的时间内所有的人都会知道该八卦的信息。本质上八卦算法是一个带冗余的容错算法，更进一步，八卦是一个最终一致性算法或提供一致性算法的手段。虽然无法保证在某个时刻所有节点状态一致，但可以保证在最终某个时刻所有节点一致对某个时间点前的所有历史达成一致。

Hashgraph的节点之间进行八卦的内容还包括节点间互相八卦的历史记录，于是每个节点都可以通过八卦维护一个散列图，这样在节点计算共识投票的时候就可以发起虚拟投票，也就是计算其他节点在给定的散列图中会怎么投票，从而不需要在网络上再做大量双向同步通信去进行真实的投票。用Hashgraph发明者的话来说就是：“Hashgraph具备投票算法的一切优点，然而避开了它的最大缺陷。”

需要强调的是：由于目前Hashgraph是一个私有链，它的“运行速度快”只能跟其他私有链做比较，比如Hyperledger（700个交易/秒）和Red Belly（400,000个交易/秒），如果拿它的速度跟比特币和以太坊等公链来比较的话，就像用苹果跟橙子做比较一样，是非常不公平的。


2、Hashgraph为什么安全

另一个经常被讨论的问题就是Hashgraph能否经受Sybil攻击，即攻击者通过创建大量假身份来破坏对等网络的信誉系统，并利用它们获得不成比例的巨大影响力。

但事实上，Hashgraph作为一个私有链，所有节点的身份已知，这种准入控制使得现阶段的Hashgraph无需考虑使用假身份攻击的危险。但如果未来Hashgraph打算往公有链方向发展的话，能否抵御Sybil攻击将是Hashgraph必须思考的一个问题。

Hashgraph的潜在问题



1、公平性的定义

假定存在A、B两个节点，A在B之前发出交易请求，如果最终在共识机制的判断下，A的交易的时间戳早于B的交易，我们就说该系统是有公平性的。如果A和B同时发生交易，并且两笔交易几乎是同时上传到网络并传播，此时就可能产生分叉，但是我们也说该系统是公平的。大多数共识机制都能够在以上两种情况下达到公平。

以上是Hashgraph白皮书中对Fairness的解释，但是该解释是建立在A、B节点面临着同样的外部网络情况的假设前提下的。

但我们考虑这样一个情况：

如果A的带宽是5M/s，而B的带宽是10M/s，A确实是比B早一点在网络中上传自己的交易信息，但是由于带宽限制，A的消息的传播速度会慢于B，这样就有可能导致最终投票时大多数人都更先接收到B的消息。这就像是在学校里，B的朋友更多，影响力大于A，因此在讨论八卦的时候，B可以把自己想传播的八卦信息更快地告诉更多人。即使可能是由A先开始传播八卦的，但因为影响力限制，大多数人都先听到B口中的版本。

这就牵扯到公平性的定义。Hashgraph白皮书中对公平性的定义没有提及是否包括在节点的外部条件不同时，投票也能反应真实地交易顺序。这一问题还没有得到Hashgraph团队的反馈。 

2、其他风险提示

1、白皮书中的分析主要是建立在数学证明上，是一个非常理想的状态，项目在落地阶段可能受制于带宽和网络状况，很可能会有各种意想不到的情况出现。



2、试图确保每个诚实的节点连接到一些诚实的节点，并且每个消息可以传送到其他诚实的节点而不被中间的拜占庭节点阻止，这本身就是一个开放的问题。鉴于目前Hashgraph的私有性质，这并不是一个问题，但这将会成为发布公共分布式账本时要克服的障碍。



3、所谓的Hashgraph替代区块链的说法，还需时间来证实。Hashgraph的算法虽然很容易建立事件，但是在每个Round之后的投票验证过程却有可能很长。如果一直无法达到超过2/3的Supermajority，有可能要进行很多轮投票来决定谁记录的交易有效。这就像是我们点外卖的时候，店家承诺出餐速度很快，5分钟出餐，但是送餐时间却不一定，最终有可能还是要等待一小时才能拿到外卖。因此，辩证地看待Hashgraph技术是很重要的。



4、Hashgraph的代码不开源，且有专利保护，开发者需要申请SDK来进行开发，这是Hashgraph变成公链需要面临的一个很大障碍，这种闭源性本身与加密数字货币开源的理念是相违背的。



5、Hashgraph的社区建设不够成熟，远不能达到比特币的影响力，声称自己要取代区块链为时尚早。

初创团队

1、核心团队


Leemon Baird, Swirls Inc.联合创始人兼CTO

Leemon Baird是Hashgraph共识算法的发明者，卡耐基梅隆大学计算机科学博士，有超过20年的程序开发和创业经验，任美国空军学院计算机科学教授(2003-2009)，数个实验室高级科学家。


MANCE HARMON, Swirls Inc.联合创始人兼CEO

Mance Harmon，马萨诸塞大学计算机科学硕士学位，密西西比州立大学计算机科学学士，是一位经验丰富的技术主管和企业家，在跨国公司，政府机构和高科技初创公司拥有超过20年的战略领导经验。导弹防御局的大型软件项目的项目经理，美国网络安全课程总监，空军学院和赖特实验室的机器学习研究科学家。 


Tom Trowbridge, Swirls Inc.委员会主席

Tom Trowbridge，耶鲁大学BA学士学位和哥伦比亚大学MBA学位，他是Beta Gamma Sigma的成员。开设并负责经营英国Odey资产管理公司的纽约办事处。



2、投资人及顾问


Jordan Fried, 商务发展部副主席

Jordan Fried，区块链和加密货币天使投资人。他是哈希图共识算法背后的公司Swirlds Inc的重要投资人。担任Buffered VPN的共同创始人兼首席执行官（Buffered VPN是在2017年第一季度被收购的）增长最快的个人VPN服务。Hive.org和Buffer App等公司的投资人。在Inc.com，Wired.com，时代杂志和Success.com中有较大影响力。


Natalie Furman, 法律顾问

斯坦福大学人类学学士和哥伦比亚大学法学院法学博士，前Paul Hastings LLP的高级助理，业务主要集中在知识产权，不正当竞争以及隐私权和宣传权上。在法学院毕业之前，她开始了在硅谷为高科技初创公司提供战略咨询。曾任一家网络群组讨论的创业公司担任战略和业务发展总监，后被雅虎收购。曾任一家开发全球协作供应链平台的技术创业公司业务发展总监。

总结

Hashgraph通过八卦传播散列图以及基于散列图做虚拟投票，将传统共识所需的瞬时通信要求降到了最低，并且保证了本地计算的高效性，确实从理论层面上做到了它所宣称的“更快、更安全、更公平”。Hashgraph引入了很多概念来解释算法，相对来说比较晦涩，虽然相当的理性。

另外Hashgraph这套算法和专利已经成功运用到了很多To B的系统中，但是异步共识是否可以真的在大型公链环境下应用成功，还是一个未知数。最新的Hashgraph公开分布式账本（所谓“公链”）的商业介绍上说他们会切换到POS，并且还支持DPOS，可以让不跑节点的Coin拥有者选择代理人节点，分享收益。虽然转向公链就意味着Hashgraph必须要考虑到Sybil攻击等一系列问题，但是它的未来还是值得期待的。

作者：猫眼财经聚焦
链接：https://www.jianshu.com/p/15bf2db1925a
來源：简书
简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。
